{
    "$id": "https://developer.microsoft.com/json-schemas/fabric/item/report/definition/report/1.2.0/schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Report",
    "description": "Defines a report and its pages, visuals, settings, and additional information.",
    "type": "object",
    "properties": {
        "$schema": {
            "description": "Defines the schema to use for an item.",
            "type": "string",
            "const": "https://developer.microsoft.com/json-schemas/fabric/item/report/definition/report/1.2.0/schema.json"
        },
        "themeCollection": {
            "$ref": "#/definitions/ThemeCollection",
            "description": "Define a theme (built-in and/or a custom theme) to be used for this report."
        },
        "layoutOptimization": {
            "$ref": "#/definitions/LayoutOptimization",
            "description": "Is the report optimized for mobile consumption."
        },
        "filterConfig": {
            "description": "Filters that apply to the entire report (all pages and all visuals).",
            "$ref": "#/definitions/FilterConfig"
        },
        "objects": {
            "description": "Specifies the formatting to be set for different \"objects\" of a report.",
            "$ref": "#/definitions/ReportFormattingObjects"
        },
        "reportSource": {
            "description": "Defines how the report was created.",
            "type": "string",
            "anyOf": [
                {
                    "const": "Default",
                    "description": "A blank report generated by Power BI apps."
                },
                {
                    "const": "SharePoint",
                    "description": "A quick create report created from a SharePointList."
                },
                {
                    "const": "Teams",
                    "description": "A quick create report created from Teams."
                },
                {
                    "const": "QuickCreate",
                    "description": "A quick create report created from Power BI app."
                },
                {
                    "const": "EmbedQuickCreate",
                    "description": "A quick create report created from an embedded source."
                },
                {
                    "const": "Datamart",
                    "description": "A new report created from Datamart."
                },
                {
                    "const": "DataExplore",
                    "description": "A report generated by exporting an Exploration as a report."
                }
            ]
        },
        "publicCustomVisuals": {
            "description": "Names of the custom visuals used in this report from AppSource.",
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "resourcePackages": {
            "description": "Set of resources used within this report.",
            "type": "array",
            "items": {
                "$ref": "#/definitions/ResourcePackage"
            }
        },
        "organizationCustomVisuals": {
            "description": "Names and metadata of the organization approved custom visuals used in the report.",
            "type": "array",
            "items": {
                "$ref": "#/definitions/OrganizationCustomVisual"
            }
        },
        "annotations": {
            "description": "Additional information to be saved (for example comments, readme, etc) for this report.",
            "type": "array",
            "items": {
                "$ref": "#/definitions/Annotation"
            }
        },
        "dataSourceVariables": {
            "description": "A string containing the state of any variables from the underlying direct query data source that should be overridden when rendering this content.\nData source variables do not supply values for M parameters in the semantic model. Instead, data source variables are applied when accessing the underlying direct query source.",
            "type": "string"
        },
        "settings": {
            "description": "Settings for the report.",
            "$ref": "#/definitions/ExplorationSettings"
        },
        "slowDataSourceSettings": {
            "description": "Settings for slow data sources (for example turning all apply all button for filters).",
            "$ref": "#/definitions/ExplorationSlowDataSourceSettings"
        }
    },
    "additionalProperties": false,
    "required": [
        "$schema",
        "layoutOptimization",
        "themeCollection"
    ],
    "definitions": {
        "ThemeCollection": {
            "type": "object",
            "properties": {
                "baseTheme": {
                    "description": "Defines the base monthly release themes shipped with Power BI.",
                    "$ref": "#/definitions/ThemeMetadata"
                },
                "customTheme": {
                    "description": "Defines a custom theme that is applied on top of the base theme.\nProperties not defined in the custom theme will fallback to using the base theme.",
                    "$ref": "#/definitions/ThemeMetadata"
                }
            },
            "additionalProperties": false
        },
        "ThemeMetadata": {
            "type": "object",
            "properties": {
                "name": {
                    "description": "Name of the theme.",
                    "type": "string"
                },
                "reportVersionAtImport": {
                    "description": "Version when the theme was added to the report.",
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/ThemeResourcePackageType",
                    "description": "Built-in or user specific custom theme."
                }
            },
            "additionalProperties": false,
            "required": [
                "name",
                "reportVersionAtImport",
                "type"
            ]
        },
        "ThemeResourcePackageType": {
            "type": "string",
            "anyOf": [
                {
                    "const": "RegisteredResources",
                    "description": "Additional resources not bundled as part of the Power BI application."
                },
                {
                    "const": "SharedResources",
                    "description": "Resources bundled as part of the Power BI applications."
                }
            ]
        },
        "LayoutOptimization": {
            "type": "string",
            "anyOf": [
                {
                    "const": "None",
                    "description": "Report doesn't contain any mobile content."
                },
                {
                    "const": "PhonePortrait",
                    "description": "Report has some mobile content."
                }
            ]
        },
        "FilterConfig": {
            "type": "object",
            "properties": {
                "filters": {
                    "description": "Defines the definitions and metadata for the filters.",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/FilterContainer"
                    }
                },
                "filterSortOrder": {
                    "description": "Defines how the filters sorted - by name or custom sorting\nIf custom sorting, then ordinal property of every filter is used as the sort order,\nfilters where ordinal is skipped will be shown at the end; ordering will fallback to display name of the field.",
                    "type": "string",
                    "anyOf": [
                        {
                            "const": "Ascending",
                            "description": "Sorted ascending by display name of the filter field."
                        },
                        {
                            "const": "Descending",
                            "description": "Sorted descending by display name of the filter field."
                        },
                        {
                            "const": "Custom",
                            "description": "Sorted ascending by ordinal property of filters."
                        }
                    ]
                }
            },
            "additionalProperties": false
        },
        "FilterContainer": {
            "type": "object",
            "properties": {
                "name": {
                    "description": "A unique name (across the whole report definition) defined for this filter.",
                    "type": "string"
                },
                "displayName": {
                    "description": "An alternate name to use when displaying this filter - by default the display name of the field will be used, if there is no field or display name,\nthen restatement of the filter will be shown. Only applies to certain filter types.",
                    "type": "string"
                },
                "ordinal": {
                    "description": "Defines the ordering of this filter w.r.t. other filters - only applies when Custom sort order is set.",
                    "type": "number"
                },
                "field": {
                    "description": "Defines the field from your data that is filtered.",
                    "$ref": "../../semanticQuery/1.2.0/schema.json#/definitions/QueryExpressionContainer"
                },
                "type": {
                    "description": "The type of a filter.",
                    "type": "string",
                    "anyOf": [
                        {
                            "const": "Categorical"
                        },
                        {
                            "const": "Range"
                        },
                        {
                            "const": "Advanced"
                        },
                        {
                            "const": "Passthrough"
                        },
                        {
                            "const": "TopN"
                        },
                        {
                            "const": "Include"
                        },
                        {
                            "const": "Exclude"
                        },
                        {
                            "const": "RelativeDate"
                        },
                        {
                            "const": "Tuple"
                        },
                        {
                            "const": "RelativeTime"
                        },
                        {
                            "const": "VisualTopN"
                        }
                    ]
                },
                "filter": {
                    "description": "Defines the actual filter definition - it is dependent on the type of filter.",
                    "$ref": "../../semanticQuery/1.2.0/schema.json#/definitions/FilterDefinition"
                },
                "restatement": {
                    "description": "A custom restatement to show for the filter - only applies to Passthrough filter type. For all other filters, a restatement is generated based on the filter definition.",
                    "type": "string"
                },
                "howCreated": {
                    "description": "Specifies how this filter was first created.",
                    "type": "string",
                    "anyOf": [
                        {
                            "const": "Auto",
                            "description": "Created automatically when a field is used in the visual."
                        },
                        {
                            "const": "User",
                            "description": "Filters created from fields not used in a visual by the user."
                        },
                        {
                            "const": "Drill",
                            "description": "Created when drilling down on a data point in a visual."
                        },
                        {
                            "const": "Include",
                            "description": "Created by including a data point in a visual."
                        },
                        {
                            "const": "Exclude",
                            "description": "Created by excluding a data point from a visual."
                        },
                        {
                            "const": "Drillthrough",
                            "description": "Created by drill context that is applied to the page when using drill-through\naction from another page."
                        }
                    ]
                },
                "isHiddenInViewMode": {
                    "description": "Defines whether to hide this filter when viewing the report.",
                    "type": "boolean"
                },
                "isLockedInViewMode": {
                    "description": "Defines whether the filter value can be changed when viewing the report.",
                    "type": "boolean"
                },
                "objects": {
                    "description": "Formatting for different \"objects\" of a filter card",
                    "$ref": "#/definitions/FilterContainerFormattingObjects"
                }
            },
            "additionalProperties": false,
            "required": [
                "name"
            ]
        },
        "FilterContainerFormattingObjects": {
            "type": "object",
            "properties": {
                "general": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "selector": {
                                "description": "Defines the scope at which to apply the formatting for this object.\nCan also define rules for matching highlighted values and how multiple definitions for the same property should be ordered.",
                                "$ref": "../../formattingObjectDefinitions/1.2.0/schema.json#/definitions/Selector"
                            },
                            "properties": {
                                "$ref": "#/definitions/FilterContainerFormattingObjectsProperties",
                                "description": "Describes the properties of the object to apply formatting changes to."
                            }
                        },
                        "additionalProperties": false,
                        "required": [
                            "properties"
                        ]
                    }
                }
            },
            "additionalProperties": false
        },
        "FilterContainerFormattingObjectsProperties": {
            "type": "object",
            "properties": {
                "requireSingleSelect": {},
                "isInvertedSelectionMode": {}
            },
            "additionalProperties": false
        },
        "ReportFormattingObjects": {
            "type": "object",
            "properties": {
                "outspacePane": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "selector": {
                                "description": "Defines the scope at which to apply the formatting for this object.\nCan also define rules for matching highlighted values and how multiple definitions for the same property should be ordered.",
                                "$ref": "../../formattingObjectDefinitions/1.2.0/schema.json#/definitions/Selector"
                            },
                            "properties": {
                                "$ref": "#/definitions/OutspacePane",
                                "description": "Describes the properties of the object to apply formatting changes to."
                            }
                        },
                        "additionalProperties": false,
                        "required": [
                            "properties"
                        ]
                    }
                },
                "section": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "selector": {
                                "description": "Defines the scope at which to apply the formatting for this object.\nCan also define rules for matching highlighted values and how multiple definitions for the same property should be ordered.",
                                "$ref": "../../formattingObjectDefinitions/1.2.0/schema.json#/definitions/Selector"
                            },
                            "properties": {
                                "$ref": "#/definitions/Section",
                                "description": "Describes the properties of the object to apply formatting changes to."
                            }
                        },
                        "additionalProperties": false,
                        "required": [
                            "properties"
                        ]
                    }
                }
            },
            "additionalProperties": false
        },
        "OutspacePane": {
            "type": "object",
            "properties": {
                "expanded": {},
                "visible": {}
            },
            "additionalProperties": false
        },
        "Section": {
            "type": "object",
            "properties": {
                "verticalAlignment": {}
            },
            "additionalProperties": false
        },
        "ResourcePackage": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/ResourcePackageType"
                },
                "items": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ResourcePackageItem"
                    }
                },
                "disabled": {
                    "type": "boolean"
                }
            },
            "additionalProperties": false,
            "required": [
                "items",
                "name",
                "type"
            ]
        },
        "ResourcePackageType": {
            "type": "string",
            "anyOf": [
                {
                    "const": "CustomVisual"
                },
                {
                    "const": "RegisteredResources"
                },
                {
                    "const": "SharedResources"
                },
                {
                    "const": "OrganizationalStoreCustomVisual"
                }
            ]
        },
        "ResourcePackageItem": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "path": {
                    "type": "string"
                },
                "type": {
                    "$ref": "#/definitions/ResourcePackageItemType"
                }
            },
            "additionalProperties": false,
            "required": [
                "name",
                "path",
                "type"
            ]
        },
        "ResourcePackageItemType": {
            "type": "string",
            "anyOf": [
                {
                    "const": "CustomVisualJavascript"
                },
                {
                    "const": "CustomVisualsCss"
                },
                {
                    "const": "CustomVisualScreenshot"
                },
                {
                    "const": "CustomVisualIcon"
                },
                {
                    "const": "CustomVisualWatermark"
                },
                {
                    "const": "CustomVisualMetadata"
                },
                {
                    "const": "Image"
                },
                {
                    "const": "ShapeMap"
                },
                {
                    "const": "CustomTheme"
                },
                {
                    "const": "BaseTheme"
                },
                {
                    "const": "DashboardTheme"
                },
                {
                    "const": "DashboardBaseTheme"
                },
                {
                    "const": "HighContrastTheme"
                },
                {
                    "const": "AppNavigation"
                },
                {
                    "const": "AppTheme"
                },
                {
                    "const": "AppBaseTheme"
                }
            ]
        },
        "OrganizationCustomVisual": {
            "type": "object",
            "properties": {
                "name": {
                    "description": "Name of the organization custom visual.",
                    "type": "string"
                },
                "path": {
                    "description": "Path where the custom visual is stored.",
                    "type": "string"
                },
                "disabled": {
                    "description": "Signifies if the custom visual is disabled by the organization.",
                    "type": "boolean"
                }
            },
            "additionalProperties": false,
            "required": [
                "name",
                "path"
            ]
        },
        "Annotation": {
            "type": "object",
            "properties": {
                "name": {
                    "description": "Unique name for the annotation.",
                    "type": "string"
                },
                "value": {
                    "description": "A value for this annotation.",
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "name",
                "value"
            ]
        },
        "ExplorationSettings": {
            "type": "object",
            "properties": {
                "isPersistentUserStateDisabled": {
                    "description": "Disable saving state of changes to a report as report viewers modify slicers and filters.",
                    "type": "boolean"
                },
                "hideVisualContainerHeader": {
                    "description": "Hide visual container header in view mode of the report.",
                    "type": "boolean"
                },
                "useStylableVisualContainerHeader": {
                    "description": "Use the new visual container header that is formattable.",
                    "type": "boolean"
                },
                "exportDataMode": {
                    "description": "When exporting data, what should be exported.",
                    "type": "string",
                    "anyOf": [
                        {
                            "const": "AllowSummarized",
                            "description": "Only allow summarized data."
                        },
                        {
                            "const": "AllowSummarizedAndUnderlying",
                            "description": "Allow underlying and summarized data."
                        },
                        {
                            "const": "None",
                            "description": "Don't allow exporting data."
                        }
                    ]
                },
                "isReportAnnotationsDisabled": {
                    "description": "Commenting is disabled for this report.",
                    "type": "boolean"
                },
                "defaultFilterActionIsDataFilter": {
                    "description": "When selecting data points on a visual, it will result in apply that selection as a filter instead of a highlight on other visuals.",
                    "type": "boolean"
                },
                "defaultDrillFilterOtherVisuals": {
                    "description": "When another visual is drilled, if visual interactions are enabled between the two visuals, then this property specifies if that drill should be applied as a filter to this visual.\nCan be overridden by setting on individual visuals.",
                    "type": "boolean"
                },
                "useCrossReportDrillthrough": {
                    "description": "Allow drill-through from other reports to this report.",
                    "type": "boolean"
                },
                "allowChangeFilterTypes": {
                    "description": "Disables changing the type of filter in view mode.",
                    "type": "boolean"
                },
                "allowInlineExploration": {
                    "description": "Allows personalize this visual for the report in view mode.",
                    "type": "boolean"
                },
                "useEnhancedTooltips": {
                    "description": "Uses better tooltips for the visuals in this report.",
                    "type": "boolean"
                },
                "useScaledTooltips": {
                    "description": "If enabled, the tooltip will scale to match canvas zoom.",
                    "type": "boolean"
                },
                "filterPaneHiddenInEditMode": {
                    "description": "Hide the filter pane in view mode.",
                    "type": "boolean"
                },
                "disableFilterPaneSearch": {
                    "description": "Disables the search bar in filter pane.",
                    "type": "boolean"
                },
                "pagesPosition": {
                    "description": "Default location where the page navigator is shown.",
                    "type": "string",
                    "anyOf": [
                        {
                            "const": "PagesPane",
                            "description": "In a pane next to the report."
                        },
                        {
                            "const": "Bottom",
                            "description": "In a toolbar below the report."
                        }
                    ]
                },
                "allowAutomatedInsightsNotification": {
                    "description": "Allow generating insights for the report in the background on data refresh.",
                    "type": "boolean"
                },
                "useDefaultAggregateDisplayName": {
                    "description": "Show the default aggregate in display names for summarized data.",
                    "type": "boolean"
                },
                "enableDeveloperMode": {
                    "description": "Enables developer mode for testing private custom visuals.",
                    "type": "boolean"
                },
                "pauseQueries": {
                    "description": "Allows pausing queries while making changes to a visual, so every change doesn't trigger a query.\nParticularly useful with slow data sources.",
                    "type": "boolean"
                },
                "queryLimitOption": {
                    "description": "Describes the limitations for how long and how much compute a single query can be allowed to consume.\nMore details for different options: https://learn.microsoft.com/en-us/power-bi/create-reports/desktop-set-visual-query-limits",
                    "type": "string",
                    "anyOf": [
                        {
                            "const": "None"
                        },
                        {
                            "const": "Shared"
                        },
                        {
                            "const": "Premium"
                        },
                        {
                            "const": "SQLServerAS"
                        },
                        {
                            "const": "AzureAS"
                        },
                        {
                            "const": "Custom"
                        },
                        {
                            "const": "Auto"
                        }
                    ]
                },
                "customMemoryLimit": {
                    "description": "If custom query limit is applied, this value defines the memory limit.",
                    "type": "string"
                },
                "customTimeoutLimit": {
                    "description": "If custom query limit is applied, this value defines the timeout limit.",
                    "type": "string"
                }
            },
            "additionalProperties": false
        },
        "ExplorationSlowDataSourceSettings": {
            "type": "object",
            "properties": {
                "isCrossHighlightingDisabled": {
                    "description": "Disable cross highlights.",
                    "type": "boolean"
                },
                "isSlicerSelectionsButtonEnabled": {
                    "description": "Adds 'apply' button to slicers.",
                    "type": "boolean"
                },
                "isFilterSelectionsButtonEnabled": {
                    "description": "Adds 'apply' button to filters.",
                    "type": "boolean"
                },
                "isFieldWellButtonEnabled": {
                    "description": "Adds 'apply' button to field changes.",
                    "type": "boolean"
                },
                "isApplyAllButtonEnabled": {
                    "description": "Adds an apply all button.",
                    "type": "boolean"
                }
            },
            "additionalProperties": false
        }
    }
}